{"version":3,"sources":["asset/images/logo.jpg","apihelpers.jsx","constants.js","components/addNewLog.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","fetchAllVisitorsLog","route","a","axios","get","response","data","console","log","Constants","BASE_URL","GET","POST","PUT","AddNewLog","props","useState","Name","setName","Department","setDepartment","Item","setItem","ID_NO","setID_NO","confirmState","setConfirmState","errorState","setErrorState","className","onSubmit","e","preventDefault","id_no","post","C","then","catch","error","Input","placeholder","size","onChange","target","value","type","Select","options","key","text","Button","primary","disabled","title","show","onConfirm","window","location","reload","MainAppComponent","activePage","setactivePage","slicedData","setslicedData","dataToRender","setDataToRender","loadingstate","setloadingstate","serverData","setServerData","totalPages","setTotalPages","checkedstate","setcheckedstate","MySwal","withReactContent","Swal","useEffect","start","Sliceddata","slice","numberofItems","length","numberofPages","Math","ceil","onCheckHandler","fire","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","Axios","put","id","src","gataLogo","alt","style","height","width","focus","fluid","loading","icon","searchquery","filter","includes","Modal","closeOnDimmerClick","dimmer","trigger","floated","labelPosition","Icon","classnName","name","onClick","worksheet","XLSX","utils","json_to_sheet","new_workbook","book_new","book_append_sheet","wbout","write","bookType","FileSaver","saveAs","Blob","s","buff","ArrayBuffer","view","Uint8Array","i","charCodeAt","s2ab","Table","celled","striped","basic","sortable","color","padded","Header","Row","backgroundColor","HeaderCell","Body","map","Cell","Date","Time_In","Time_Out","Returned","Checkbox","slider","fitted","toggle","defaultChecked","renderRow","Footer","Pagination","onPageChange","event","Boolean","hostname","match","ReactDOM","render","App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9b7eac74.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.46daa66d.jpg\";","import axios from \"axios\";\n\nexport const fetchAllVisitorsLog = async route => {\n\ttry {\n\t\tconst response = await axios.get(route);\n\t\treturn response.data;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n\nexport const createNewLog = async (route, data) => {\n\ttry {\n\t\tconst response = axios.post(route, data);\n\t\treturn response;\n\t} catch (error) {\n\t\tconsole.log(error);\n\t}\n};\n","export const Constants = {\n\tapi: {\n\t\tBASE_URL: \"http://localhost:7000\",\n\t\tGET: \"api/getLogs\",\n\t\tPOST: \"api/createLog\",\n\t\tPUT: \"api/editLog\"\n\t}\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Input, Button, Select } from \"semantic-ui-react\";\nimport SweetAlert from \"sweetalert2-react\";\nimport { createNewLog } from \"../apihelpers\";\nimport axios from \"axios\";\nimport { Constants as C } from \"../constants\";\nimport \"../asset/styles/addnewlogstyle.css\";\n\nconst AddNewLog = props => {\n\tconst [Name, setName] = useState();\n\tconst [Department, setDepartment] = useState();\n\tconst [Item, setItem] = useState();\n\tconst [ID_NO, setID_NO] = useState();\n\tconst [confirmState, setConfirmState] = useState(false);\n\t//const [open, setOpen] = useState(false);\n\tconst [errorState, setErrorState] = useState(false);\n\n\tconst DepartmentOptions = [\n\t\t{ key: \"1\", value: \"Director General Secretariat\", text: \"DG Secretariat\" },\n\t\t{ key: \"2\", value: \"Technical Secretariat\", text: \"Technical Secretariat\" },\n\t\t{ key: \"3\", value: \"Finance and Admin Secretariat\", text: \"Finance and Admin Secretariat\" },\n\t\t{ key: \"4\", value: \"Finance\", text: \"Finance\" },\n\t\t{ key: \"5\", value: \"Human Resource\", text: \"Human Resource\" },\n\t\t{ key: \"6\", value: \"Corporate Planning\", text: \"Corporate Planning\" },\n\t\t{ key: \"7\", value: \"Internal Audit\", text: \"Internal Audit\" },\n\t\t{ key: \"8\", value: \"Air Traffic Safety Eng\", text: \"Air Traffic Safety Eng\" },\n\t\t{ key: \"9\", value: \"Air Traffic Services\", text: \"Air Traffic Services\" },\n\t\t{ key: \"10\", value: \"Safety Regulation\", text: \"Safety Regulation\" },\n\t\t{ key: \"11\", value: \"Legal and Int Relations\", text: \"Legal and Int Relations\" },\n\t\t{\n\t\t\tkey: \"12\",\n\t\t\tvalue: \"Economic Regulation and Business Dev\",\n\t\t\ttext: \"Economic Regulation and Business Dev\"\n\t\t},\n\t\t{ key: \"13\", value: \"GATA\", text: \"GATA\" }\n\t];\n\n\tconst handleNameChange = e => {\n\t\tsetName(e.target.value);\n\t};\n\tconst handleDeptChange = (e, data) => {\n\t\tsetDepartment(data.value);\n\t};\n\tconst handleItemChange = e => {\n\t\tsetItem(e.target.value);\n\t};\n\tconst handleIDChange = e => {\n\t\tsetID_NO(e.target.value);\n\t};\n\n\tconst onClose = () => {\n\t\tsetErrorState(!errorState);\n\t};\n\n\tconst onSuccessClose = () => {\n\t\tsetConfirmState(false);\n\t\twindow.location.reload();\n\t};\n\tconst onSubmitHandler = e => {\n\t\te.preventDefault();\n\n\t\tlet data = {\n\t\t\tName,\n\t\t\tDepartment,\n\t\t\tItem,\n\t\t\tid_no: ID_NO\n\t\t};\n\t\taxios\n\t\t\t.post(`${C.api.BASE_URL}/${C.api.POST}`, data)\n\t\t\t.then(function(response) {\n\t\t\t\tconsole.log(response);\n\t\t\t\tsetConfirmState(!confirmState);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(\"catch the error\");\n\t\t\t\tsetErrorState(true);\n\t\t\t});\n\t};\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<form className=\"addNewLogForm\" onSubmit={onSubmitHandler}>\n\t\t\t\t<div>\n\t\t\t\t\t<h1>Add New Log</h1>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"textboxes-wrapper\">\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Select\n\t\t\t\t\t\tplaceholder=\"Department\"\n\t\t\t\t\t\toptions={DepartmentOptions}\n\t\t\t\t\t\tonChange={handleDeptChange}\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Input\n\t\t\t\t\t\tplaceholder=\"Item\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tonChange={handleItemChange}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Input placeholder=\"ID No\" size=\"large\" onChange={handleIDChange} type=\"text\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"button-div\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tprimary\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"submit-button\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tdisabled={!(Name && Department && Item && ID_NO)}\n\t\t\t\t\t>\n\t\t\t\t\t\tCreate Log\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t\t<SweetAlert\n\t\t\t\t\ttitle=\"Error\"\n\t\t\t\t\tshow={errorState}\n\t\t\t\t\tonConfirm={onClose}\n\t\t\t\t\ttext=\"Failed to connect to server!\"\n\t\t\t\t\ttype=\"error\"\n\t\t\t\t/>\n\t\t\t\t<SweetAlert\n\t\t\t\t\ttitle=\"Log Added!\"\n\t\t\t\t\tshow={confirmState}\n\t\t\t\t\tonConfirm={onSuccessClose}\n\t\t\t\t\ttype=\"success\"\n\t\t\t\t/>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\nexport default AddNewLog;\n","import React, { useEffect, useState } from \"react\";\nimport { Table, Pagination, Menu, Label, Icon, Button, Checkbox, Modal } from \"semantic-ui-react\";\nimport { Input } from \"semantic-ui-react\";\nimport { fetchAllVisitorsLog } from \"./apihelpers.jsx\";\nimport gataLogo from \"./asset/images/logo.jpg\";\nimport AddNewLog from \"./components/addNewLog.jsx\";\nimport SweetAlert from \"sweetalert2-react\";\nimport Swal from \"sweetalert2\";\nimport \"./asset/styles/maincomponentstyles.css\";\nimport { Constants as C } from \"./constants\";\nimport Axios from \"axios\";\nimport XLSX from \"xlsx\";\nimport FileSaver from \"file-saver\";\nimport withReactContent from \"sweetalert2-react-content\";\n\nconst MainAppComponent = props => {\n\tconst [activePage, setactivePage] = useState(1);\n\tconst [slicedData, setslicedData] = useState([]);\n\tconst [dataToRender, setDataToRender] = useState([]);\n\tconst [loadingstate, setloadingstate] = useState(false);\n\tconst [serverData, setServerData] = useState([]);\n\tconst [totalPages, setTotalPages] = useState(0);\n\tconst [checkedstate, setcheckedstate] = useState(false);\n\tconst [errorState, setErrorState] = useState(false);\n\tconst maxItemsPerPage = 8;\n\tconst MySwal = withReactContent(Swal);\n\n\tuseEffect(() => {\n\t\tfetchAllVisitorsLog(`${C.api.BASE_URL}/${C.api.GET}`)\n\t\t\t.then(response => {\n\t\t\t\tsetServerData(response);\n\t\t\t\tlet start = (activePage - 1) * maxItemsPerPage;\n\t\t\t\tlet Sliceddata = response.slice(start, start + maxItemsPerPage);\n\t\t\t\tlet numberofItems = response.length;\n\t\t\t\tlet numberofPages = Math.ceil(numberofItems / maxItemsPerPage);\n\t\t\t\tsetTotalPages(numberofPages);\n\t\t\t\tsetslicedData(Sliceddata);\n\t\t\t\tsetDataToRender(Sliceddata);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(\"error fetching from database\", error);\n\t\t\t\tsetErrorState(true);\n\t\t\t});\n\t}, [activePage]);\n\n\tconst onCheckHandler = (e, data) => {\n\t\tsetcheckedstate(!checkedstate);\n\t\tMySwal.fire({\n\t\t\ttitle: \"Return item\",\n\t\t\ttext: \"Are you sure you want to return this item?\",\n\t\t\ttype: \"warning\",\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#3085d6\",\n\t\t\tcancelButtonColor: \"#d33\",\n\t\t\tconfirmButtonText: \"Return\"\n\t\t})\n\t\t\t.then(result => {\n\t\t\t\tif (result.value) {\n\t\t\t\t\tMySwal.fire(\"Item returned!\", \"success\");\n\t\t\t\t\tAxios.put(`${C.api.BASE_URL}/${C.api.PUT}/${data.id}`)\n\t\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\tsetErrorState(true);\n\t\t\t\t\t\t\tsetcheckedstate(false);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\t};\n\n\tconst handleSearchChange = e => {\n\t\ttry {\n\t\t\tsetloadingstate(!loadingstate);\n\t\t\tlet searchquery = e.target.value;\n\t\t\tlet result = serverData.filter(\n\t\t\t\tdata =>\n\t\t\t\t\tdata.Name.includes(searchquery) ||\n\t\t\t\t\tdata.Item.includes(searchquery) ||\n\t\t\t\t\tdata.Department.includes(searchquery)\n\t\t\t\t//data.Returned.includes(searchquery)\n\t\t\t);\n\t\t\tsetDataToRender(searchquery ? result : slicedData);\n\t\t\tsetloadingstate(!loadingstate);\n\t\t} catch (error) {\n\t\t\tconsole.log(\"there's an error with the searching\", error);\n\t\t}\n\t};\n\n\tconst onClose = () => {\n\t\tsetErrorState(!errorState);\n\t};\n\tconst exportButtonClickHandler = () => {\n\t\tlet worksheet = XLSX.utils.json_to_sheet(serverData);\n\t\tvar new_workbook = XLSX.utils.book_new();\n\t\tXLSX.utils.book_append_sheet(new_workbook, worksheet, \"GataIct Items log Sheet\");\n\t\tlet wbout = XLSX.write(new_workbook, { type: \"binary\", bookType: \"xlsx\" });\n\n\t\tconst s2ab = s => {\n\t\t\tvar buff = new ArrayBuffer(s.length);\n\t\t\tvar view = new Uint8Array(buff);\n\t\t\tfor (var i = 0; i < s.length; i++) view[i] = s.charCodeAt(i) & 0xff;\n\t\t\treturn buff;\n\t\t};\n\t\tFileSaver.saveAs(\n\t\t\tnew Blob([s2ab(wbout)], { type: \"application/octet-stream\" }),\n\t\t\t\"GataIctItemLog.xlsx\"\n\t\t);\n\t};\n\n\tconst handlePageChange = (event, data) => {\n\t\tsetactivePage(data.activePage);\n\t};\n\n\tconst renderRow = serverData => {\n\t\treturn (\n\t\t\t<Table.Row key={serverData.id}>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.Date}</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.Time_In}</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.Name}</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>\n\t\t\t\t\t{serverData.Department}\n\t\t\t\t</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.Item}</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.ID_NO}</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.Time_Out}</Table.Cell>\n\t\t\t\t<Table.Cell style={{ color: \"rgb(120,120,120)\" }}>{serverData.Returned}</Table.Cell>\n\t\t\t\t<Table.Cell>\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tslider\n\t\t\t\t\t\tfitted\n\t\t\t\t\t\ttoggle\n\t\t\t\t\t\tdefaultChecked={serverData.Returned === \"Yes\" ? true : false}\n\t\t\t\t\t\tonClick={onCheckHandler}\n\t\t\t\t\t\tid={serverData.id}\n\t\t\t\t\t\tdisabled={serverData.Returned === \"Yes\" ? true : false}\n\t\t\t\t\t/>\n\t\t\t\t</Table.Cell>\n\t\t\t</Table.Row>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"main-main-wrapper\">\n\t\t\t<div className=\"main-wrapper\">\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"header-area-wrapper\">\n\t\t\t\t\t\t<div className=\"Name-logo-div\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={gataLogo}\n\t\t\t\t\t\t\t\t\talt=\"logo\"\n\t\t\t\t\t\t\t\t\tstyle={{ height: \"10rem\", width: \"15rem\" }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h1>GATA ICT Items Log</h1>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"Searchbar-button-wrapper\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tfocus\n\t\t\t\t\t\t\t\t\tfluid\n\t\t\t\t\t\t\t\t\tloading={loadingstate}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\t\ticon=\"search\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"AddLogbutton\">\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tcloseOnDimmerClick\n\t\t\t\t\t\t\t\t\tdimmer\n\t\t\t\t\t\t\t\t\ttrigger={\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tfloated=\"right\"\n\t\t\t\t\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"buttonStyle\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon classnName=\"Icon\" name=\"add\" /> Add Log\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AddNewLog />\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tlabelPosition=\"left\"\n\t\t\t\t\t\t\t\t\tonClick={exportButtonClickHandler}\n\t\t\t\t\t\t\t\t\ticon\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon classnName=\"Icon\" name=\"file excel\" />\n\t\t\t\t\t\t\t\t\tExport\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"TableStyless\">\n\t\t\t\t\t<Table celled striped basic=\"very\" sortable color=\"blue\" size=\"large\" padded>\n\t\t\t\t\t\t<Table.Header>\n\t\t\t\t\t\t\t<Table.Row style={{ backgroundColor: \"rgba(77,169,232,0.9)\" }}>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>Date</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>\n\t\t\t\t\t\t\t\t\tTime In\n\t\t\t\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>Name</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>\n\t\t\t\t\t\t\t\t\tDepartment\n\t\t\t\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>Item</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>\n\t\t\t\t\t\t\t\t\tID No\n\t\t\t\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>\n\t\t\t\t\t\t\t\t\tTime Out\n\t\t\t\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t\t\t\t\t<Table.HeaderCell style={{ color: \"white\" }}>\n\t\t\t\t\t\t\t\t\tReturned\n\t\t\t\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t\t</Table.Header>\n\t\t\t\t\t\t<Table.Body>\n\t\t\t\t\t\t\t{dataToRender.map(data => {\n\t\t\t\t\t\t\t\treturn renderRow(data);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</Table.Body>\n\t\t\t\t\t</Table>\n\t\t\t\t\t<div className=\"actions\">\n\t\t\t\t\t\t<Table.Footer>\n\t\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\t\tactivePage={activePage}\n\t\t\t\t\t\t\t\ttotalPages={totalPages}\n\t\t\t\t\t\t\t\tonPageChange={handlePageChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Table.Footer>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<SweetAlert\n\t\t\t\t\ttitle=\"Error\"\n\t\t\t\t\tshow={errorState}\n\t\t\t\t\tonConfirm={onClose}\n\t\t\t\t\ttext=\"Sorry! Can't connect to the server \"\n\t\t\t\t\ttype=\"error\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MainAppComponent;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"semantic-ui-css/semantic.min.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}